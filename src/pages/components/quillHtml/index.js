/*
 * @Author: xiaoreya
 * @Date: 2021-01-28 14:23:23
 * @Description: 
 */
import React, { Component } from 'react';
const quillHtml = require('quill-delta-to-html');
import dJSON from 'dirty-json-ie11';
const QuillDeltaToHtmlConverter = quillHtml.QuillDeltaToHtmlConverter;

const json = `{"ops":[{"attributes":{"color":"#cc7832"},"insert":"package "},{"insert":"script.db\n\ndatabaseChangeLog("},{"attributes":{"color":"#6a8759"},"insert":"logicalFilePath"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'ca_agent_filter.groovy'"},{"insert":") {\n    changeSet("},{"attributes":{"color":"#6a8759"},"insert":"author"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'siao.qian@hand-china.com'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"id"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'2020-05-14-ca_agent_filter'"},{"insert":") "},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"        "},{"insert":"createTable("},{"attributes":{"color":"#6a8759"},"insert":"tableName"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'ca_agent_filter'"},{"insert":") "},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'id'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'BIGINT UNSIGNED'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"autoIncrement"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"true"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"remarks"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'表id'"},{"insert":") "},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":", "},{"attributes":{"color":"#808080"},"insert":"//是否为空"},{"insert":"\n"},{"attributes":{"color":"#808080"},"insert":"                        "},{"attributes":{"color":"#6a8759"},"insert":"primaryKey"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"true "},{"attributes":{"color":"#808080"},"insert":"//开启主键约束"},{"insert":"\n"},{"attributes":{"color":"#808080"},"insert":"                "},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'iam_organization_id'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'BIGINT'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"remarks"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'租户id'"},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'agent_id'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'BIGINT'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"remarks"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'代理人配置表ID'"},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'filter_type_code'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'VARCHAR(100)'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"remarks"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'筛选方式,取自快码'"},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'is_deleted'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'tinyint(1)'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"remarks"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'是否删除'"},{"insert":","},{"attributes":{"color":"#6a8759"},"insert":"defaultValue "},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"0\""},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'object_version_number'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'BIGINT'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"remarks"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'行版本号,用来处理锁' "},{"insert":","},{"attributes":{"color":"#6a8759"},"insert":"defaultValue "},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"1\""},{"insert":")   "},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"created_by\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"BIGINT\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"defaultValue "},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"-1\""},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"creation_date\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"DATETIME\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"defaultValueComputed "},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"CURRENT_TIMESTAMP\""},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"last_updated_by\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"BIGINT\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"defaultValue "},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"-1\""},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"last_update_date\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"type"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"DATETIME\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"defaultValueComputed "},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"CURRENT_TIMESTAMP\""},{"insert":")"},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"                "},{"insert":"constraints("},{"attributes":{"color":"#6a8759"},"insert":"nullable"},{"insert":":"},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":")\n            "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"        }"},{"insert":"\n\n"},{"attributes":{"bold":true},"insert":"        "},{"insert":"createIndex("},{"attributes":{"color":"#6a8759"},"insert":"tableName"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"'ca_agent_filter'"},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"indexName"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"ca_agent_filter_n1\""},{"insert":", "},{"attributes":{"color":"#6a8759"},"insert":"unique"},{"insert":": "},{"attributes":{"color":"#cc7832"},"insert":"false"},{"insert":") "},{"attributes":{"bold":true},"insert":"{"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"            "},{"insert":"column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"iam_organization_id\""},{"insert":")\n            column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"agent_id\""},{"insert":")\n            column("},{"attributes":{"color":"#6a8759"},"insert":"name"},{"insert":": "},{"attributes":{"color":"#6a8759"},"insert":"\"is_deleted\""},{"insert":")\n        "},{"attributes":{"bold":true},"insert":"}"},{"insert":"\n"},{"attributes":{"bold":true},"insert":"    }"},{"insert":"\n}\n   \n\n"}]}`

const json2 = "[{\"insert\":\"经过两周的开发者测试，苹果在今天凌晨发布了 iOS 14 和 iPadOS 14 的公开测试版（Public Beta）。\\niOS 14 和 iPadOS 14 是苹果在 WWDC 2020 上推出的新系统，目前正在面向开发者和公众进行测试，正式版预计在秋季发布。\\n在这篇文章中，我们将带大家快速浏览 iOS 14 和 iPadOS 14 中值得尝鲜的新功能。如果你想尝鲜 iOS 14 公开测试版，可以在 \"},{\"attributes\":{\"color\":\"#292525\",\"link\":\"https://beta.apple.com/sp/betaprogram/\"},\"insert\":\"苹果官网\"},{\"insert\":\" 申请 Apple Beta 版软件计划。\\n\"},{\"attributes\":{\"bold\":true},\"insert\":\"关联阅读：\"},{\"insert\":\"《\"},{\"attributes\":{\"color\":\"#292525\",\"link\":\"https://sspai.com/post/61339\"},\"insert\":\"iOS / iPadOS 14 推出 Public Beta：新系统升降级指南 & 注意事项\"},{\"insert\":\"》\\n初代 iPhone 发布至今经历了 14 次大版本系统更新，这些更新不但为我们带来了很多实用功能，也丰富和完善了整个「苹果生态」。很多你今天用起来习以为常的功能，可能在几年前都还没出现，你知道 AirDrop 是什么时间加入 iOS 的吗？你知道曾经 iOS 不支持安装第三方输入法吗？\\n\"},{\"attributes\":{\"color\":\"#292525\",\"link\":\"https://sspai.com/page/wwdc20_ios\"},\"insert\":\"&#128241; 我们为大家准备了 10 道 iOS 知识问答，快来看看你对 iOS 系统的了解程度吧 >\"},{\"insert\":\"\\niOS 14：整理主屏新方式，主屏小组件也来了\"},{\"attributes\":{\"header\":2},\"insert\":\"\\n\"},{\"insert\":\"iOS 14 可以算得上近几年来更新最大的一次，主屏幕可以添加小组件，提供了全新的应用浏览视图——App 资源库，Siri、地图、短信等 app 也都迎来了不少新变化，还新增了类似「微信小程序」的 App Clips 功能。\\n\\n主屏幕小组件\"},{\"attributes\":{\"header\":3},\"insert\":\"\\n\"},{\"insert\":\"传闻已久的主屏小部件终于来了。你可以将原生应用和第三方应用\"},{\"attributes\":{\"background\":\"#655e5e\",\"color\":\"#ffffff\",\"script\":\"super\"},\"insert\":\"1\"},{\"insert\":\" 的小组件添加到主屏幕上，用于显示内容或者进行交互，比如显示天气预报、日程安排、剩余事项、新闻列表、快捷指令等。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-%E6%88%AA%E5%B1%8F2020-06-23%20%E4%B8%8A%E5%8D%885.09.28.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"主屏幕小组件\\n目前，iOS 14 桌面小组件支持的交互方式有两种：点击打开应用和使用某个功能。以天气为例，小组件不支持左右滑动来查看未来天气，你与它的唯一交互就是点按打开应用。而备忘录、快捷指令等小组件则可以通过展示出的内容来使用特定功能，比如打开某个笔记、运行某个快捷指令等。\\n小组件分为大、中、小三种尺寸，可以在主屏幕上和 app 图标进行组合排列。另外，多个小组件还能叠放到同一个空间里组成「智能叠放」，通过滑动进行切换小组件，节省屏幕空间的同时，也能放下更多内容。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-db3f817a87072e6995b455840515b8e6.gif?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"智能叠放\\niPadOS 14 也有和 iOS 14 一样的全新小组件，不过，iPadOS 14 不支持将小组件放到主屏幕上，只能在小组件栏内使用它们。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-8e8eb8e12d1ee253062f31812820622b.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"iPadOS 14 小组件\\n\"},{\"attributes\":{\"bold\":true},\"insert\":\"关联阅读：\"},{\"insert\":\"《\"},{\"attributes\":{\"color\":\"#292525\",\"link\":\"https://sspai.com/post/61371\"},\"insert\":\"从开发者的角度看 iOS 14 小组件\"},{\"insert\":\"》\\n\\nApp 资源库\"},{\"attributes\":{\"header\":3},\"insert\":\"\\n\"},{\"insert\":\"很多 iPhone 用户的系统里可能安装了几十甚至上百个 app，面对日渐增多的 app 数量以及杂乱的主屏整理问题，iOS 14 推出了 App 资源库功能，自动整理你的所有 app，生成简洁高效、易于浏览的视图。\\nApp 资源库会出现在主屏幕的最后一屏，既有按照 app 首字母排列的列表，也有通过智能分类（包含 Siri 建议、最近添加、应用类别）生成的文件夹。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-IMG_1825.JPEG?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"App 资源库\\n画中画\"},{\"attributes\":{\"header\":3},\"insert\":\"\\n\"},{\"insert\":\"苹果曾在 iOS 9 中为 iPad 加入了画中画功能，如今，画中画也来到了 iPhone。当你用 iPhone 播放视频时，返回主屏后视频会缩成小窗口持续显示，你可以对窗口大小进行调节，甚至可以将窗口隐藏到屏幕边缘只播放声音。这功能同样可用于 FaceTime 通话，以及其它 VoIP 应用，比如 Skype。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-%E6%88%AA%E5%B1%8F2020-06-23%20%E4%B8%8A%E5%8D%885.17.46.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"iPhone 画中画\\n迷你来电显示\"},{\"attributes\":{\"header\":3},\"insert\":\"\\n\"},{\"insert\":\"此前的 iOS 版本，来电通知会直接占据全屏，无法进行其它操作。在 iOS 14 中，来电通知将以迷你窗口呈现，就像普通的横幅通知那样，仅占据屏幕上方的一小块位置。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-%E6%88%AA%E5%B1%8F2020-06-23%20%E4%B8%8A%E5%8D%885.41.59.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"来电显示以迷你窗口呈现\\nSiri 改进\"},{\"attributes\":{\"header\":3},\"insert\":\"\\n\"},{\"insert\":\"iOS 14 的 Siri 也获得了改进。首先是视觉上进行了重新设计，和来电通知类似，采用了精简化的设计，不再占据整个屏幕，而是仅在屏幕下方显示一个小小的 Siri 图标，以及在屏幕上方以通知横幅的形式显示 Siri 的回答内容。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-%E6%88%AA%E5%B1%8F2020-06-23%20%E4%B8%8A%E5%8D%885.19.13.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"新的 Siri 设计\\niPadOS 14 则是将 Siri 显示在了右下角区域：\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-4a851649cd1e370d62257538511e027a.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"iPadOS 14 的 Siri 新设计\\n此外，Siri 的回答能力也获得了增强，据苹果称，「Siri 的学识是三年前的 20 多倍」。\\n\\n翻译 App\"},{\"attributes\":{\"header\":3},\"insert\":\"\\n\"},{\"insert\":\"iOS 14 推出了全新的翻译 app，支持语音翻译功能，可以把一种语言翻译为另一种语言，并用 Siri 念出来。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-%E6%88%AA%E5%B1%8F2020-06-23%20%E4%B8%8A%E5%8D%885.22.09.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"翻译 app 支持的语言\\n翻译应用还具有交谈模式，只需将屏幕横过来，就能自动识别对话者的语言，并显示在屏幕两侧。\\n\"},{\"insert\":{\"image\":\"https://cdn.sspai.com/ee/2020-07-09-%E6%88%AA%E5%B1%8F2020-06-23%20%E4%B8%8A%E5%8D%885.22.23.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1\"}},{\"insert\":\"交谈模式\\n此外， Apple 还考虑到了我们的隐私问题，支持将翻译包离线到设备中，不需要联网也能翻译。值得注意的是，翻译 app 支持中文（普通话）。\\n\"},{\"attributes\":{\"bold\":true},\"insert\":\"关联阅读：\"},{\"insert\":\"《\"},{\"attributes\":{\"color\":\"#292525\",\"link\":\"https://sspai.com/post/61164\"},\"insert\":\"iOS 14 中的翻译 App 效果怎么样？这是我的使用体验\"},{\"insert\":\"》\\n\\n短信\"},{\"attributes\":{\"header\":3},\"insert\":\"\\n\"},{\"insert\":\"iOS 14 的短信 app 在功能与界面上均获得了改进，支持将联系人固定在应用的顶部，方便快速访问。群聊也支持单线回复、提到、设置群组头像等新功能。\\n\"}]"

const json3 = `[{"ops":[{"attributes":{"color":"#cc7832"},"insert":"package "}]}]`

const json4 = '{"ops":[{"insert":"????????dsauoldsjaioldsadsaeqweqw\n"}]}';

const json5 = `{\"ops\":[{\"insert\":\"parseDelta = () => {\\r\"},{\"insert\":\"\\r\"},{\"insert\":\"    const beParseJson = json4;\\r\"},{\"insert\":\"    if (isJSON(beParseJson)) {\\r\"},{\"insert\":\"      console.log('parseDelta ===>', this.parseMsgToHtml(beParseJson))\\r\"},{\"insert\":\"    } else {\\r\"},{\"insert\":\"      console.log('parseDelta ===> 不是json')\\r\"},{\"insert\":\"    }\\r\"},{\"insert\":\"  }\"}]}`;

const isJSON = (str) => {
  if (typeof str == 'string') {
    try {
      var obj = JSON.parse(str);
      if (typeof obj == 'object' && obj) {
        return true;
      } else {
        return false;


      }

    } catch (e) {
      console.log('error：' + str + '!!!' + e);
      return false;
    }
  }
  console.log('It is not a string!')
};

export default class QuillHtml extends Component {

  parseMsgToHtml = (jsonContent) => {
    let cfg = {}
    return new QuillDeltaToHtmlConverter(JSON.parse(jsonContent), cfg).convert()
  }

  parseMsgToHtml2 = (jsonContent) => {
    return new QuillDeltaToHtmlConverter(JSON.parse(jsonContent || '{}').ops, {}).convert()
  }

  parseDelta = () => {

    const beParseJson = json5;
    if (isJSON(beParseJson)) {
      console.log('parseDelta ===>', this.parseMsgToHtml2(beParseJson))
    } else {
      console.log('parseDelta ===> 不是json')
    }
  }

  render() {
    return (
      <div>
        <div onClick={() => this.parseDelta()}>
          啦啦啦
        </div>
        {/* <div
          // eslint-disable-next-line react/no-danger
          dangerouslySetInnerHTML={{
            __html: new QuillDeltaToHtmlConverter(dJSON.parse(json || '{}').ops, {}).convert(),
          }}
        /> */}
      </div>
    )
  }
}
